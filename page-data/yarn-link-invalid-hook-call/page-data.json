{"componentChunkName":"component---src-templates-post-js","path":"/yarn-link-invalid-hook-call","result":{"data":{"markdownRemark":{"html":"<h2 id=\"problem\" style=\"position:relative;\"><a href=\"#problem\" aria-label=\"problem permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Problem</h2>\n<p>The following error can occur when linking a React library with a React app using NPM or Yarn if these projects do not use the same React version:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Error: Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://fb.me/react-invalid-hook-call for tips about how to debug and fix this problem.</code></pre></div>\n<h2 id=\"solution\" style=\"position:relative;\"><a href=\"#solution\" aria-label=\"solution permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution</h2>\n<p>The packages <code class=\"language-text\">react</code> and <code class=\"language-text\">react-dom</code> need to be linked as well:</p>\n<div\n              class=\"gatsby-code-button-container\"\n              data-toaster-id=\"\"\n              data-toaster-class=\"gatsby-code-button-toaster\"\n              data-toaster-text-class=\"gatsby-code-button-toaster-text\"\n              data-toaster-text=\"\"\n              data-toaster-duration=\"3500\"\n              onClick=\"copyToClipboard(`cd PACKAGE_YOU_DEBUG_LOCALLY\nyarn link\nyarn install\ncd node_modules/react\nyarn link\ncd ../../node_modules/react-dom\nyarn link\ncd YOUR_PROJECT\nyarn link PACKAGE_YOU_DEBUG_LOCALLY\nyarn link react\nyarn link react-dom`, ``)\"\n            >\n              <div\n                class=\"gatsby-code-button\"\n                data-tooltip=\"\"\n              >\n                <svg class=\"gatsby-code-button-icon\" xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"none\" d=\"M0 0h24v24H0V0z\"/><path d=\"M16 1H2v16h2V3h12V1zm-1 4l6 6v12H6V5h9zm-1 7h5.5L14 6.5V12z\"/></svg>\n              </div>\n            </div>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token builtin class-name\">cd</span> PACKAGE_YOU_DEBUG_LOCALLY\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span>\n<span class=\"token function\">yarn</span> <span class=\"token function\">install</span>\n<span class=\"token builtin class-name\">cd</span> node_modules/react\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span>\n<span class=\"token builtin class-name\">cd</span> <span class=\"token punctuation\">..</span>/<span class=\"token punctuation\">..</span>/node_modules/react-dom\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span>\n<span class=\"token builtin class-name\">cd</span> YOUR_PROJECT\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> PACKAGE_YOU_DEBUG_LOCALLY\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> react\n<span class=\"token function\">yarn</span> <span class=\"token function\">link</span> react-dom</code></pre></div>","frontmatter":{"path":"/yarn-link-invalid-hook-call","title":"Yarn link: invalid hook call","date":"2020-10-31","tags":["React","NPM / Yarn","Coding"],"source":"https://github.com/facebook/react/issues/14257#issuecomment-595183610"}}},"pageContext":{}},"staticQueryHashes":["3649515864","63159454"]}